<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุงุฎุชุจุงุฑ ุงููุฏุฑุงุช ุงูุนุงูุฉ</title>
<style>
body{font-family:tahoma,arial,sans-serif;background:#f0f2f5;margin:0;padding:20px;}
#qodrat-quiz, #finalSubmit{background:#fff;border-radius:12px;box-shadow:0 5px 20px rgba(0,0,0,0.1);max-width:900px;margin:auto;padding:20px;}
button{transition:0.2s;}
</style>
</head>
<body>

<section id="qodrat-quiz">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;">
    <h2 id="quizTitle">๐ง ุงุฎุชุจุงุฑ ุงููุฏุฑุงุช ุงูุนุงูุฉ</h2>
    <div style="display:flex;flex-direction:column;align-items:flex-end;">
      <div id="timer" style="font-weight:bold;color:red;font-size:22px;">25:00</div>
      <div style="width:150px;height:8px;background:#ddd;border-radius:4px;margin-top:3px;overflow:hidden;">
        <div id="timerBar" style="width:100%;height:100%;background:#2196f3;"></div>
      </div>
    </div>
  </div>

  <div style="display:flex;gap:20px;">
    <div style="flex:1;min-width:200px;background:#f8f8f8;padding:12px;border-radius:8px; text-align:right; direction:rtl;">
      <h3>๐ ุชุนูููุงุช</h3>
      <ul>
        <li>ุฃุฌุจ ุนู ูู ุณุคุงู ูุจู ุงูุงูุชูุงู ููุณุคุงู ุงูุชุงูู.</li>
        <li>ููููู ุงุณุชุฎุฏุงู ุฒุฑ "ุงูุณุงุจู" ููุฑุงุฌุนุฉ ุงูุณุคุงู ุงูุณุงุจู.</li>
        <li>ุงููุคูุช ูุธูุฑ ูู ุงูุฃุนูู ููุญุณุจ ุงูููุช ุงููุชุจูู.</li>
        <li>ุจุนุฏ ุงูุชูุงุก ุงููุณู ุงุถุบุท "ุชุณููู ุงููุณู" ููุงูุชูุงู ูููุณู ุงูุชุงูู.</li>
      </ul>
    </div>

    <div style="flex:2;min-width:300px;">
      <div id="questionText" style="font-weight:700;margin-bottom:20px;font-size:22px;"></div>
      <div id="options" style="display:flex;flex-direction:column;gap:15px"></div>
    </div>
  </div>

  <div style="display:flex;justify-content:space-between;margin-top:25px;">
    <button id="prevBtn" style="padding:14px 20px;background:#ccc;color:#000;border:none;border-radius:6px;cursor:pointer;display:none;">ุงูุณุงุจู</button>
    <button id="nextBtn" style="padding:14px 20px;background:#2196f3;color:#fff;border:none;border-radius:6px;cursor:pointer;">ุงูุชุงูู</button>
    <button id="submitSectionBtn" style="padding:14px 20px;background:#2ecc71;color:#fff;border:none;border-radius:6px;cursor:pointer;display:none;">ุชุณููู ุงููุณู</button>
  </div>
</section>

<section id="finalSubmit" style="display:none;max-width:500px;margin:auto;padding:20px;">
  <h2>๐ ุชุณููู ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู</h2>
  <p>ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุชุงููุฉ:</p>
  <input type="text" id="studentName" placeholder="ุงูุงุณู ุงููุงูู" style="width:100%;padding:12px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:16px;">
  <input type="text" id="studentID" placeholder="ุงููููุฉ ุงููุทููุฉ" style="width:100%;padding:12px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:16px;">
  <input type="text" id="studentClass" placeholder="ุงูุตู ุงูุฏุฑุงุณู" style="width:100%;padding:12px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:16px;">
  <button id="submitFinalBtn" style="padding:14px 20px;background:#2ecc71;color:#fff;border:none;border-radius:6px;cursor:pointer;">ุชุณููู ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู</button>
</section>

<script>
// ======= ุฅุนุฏุงุฏ ุงูุชูููุช =======
const sectionTimers = true; // true ููู ูุณูุ false ูุชูููุช ุฅุฌูุงูู ููุงุฎุชุจุงุฑ
const sectionTime = 1500; // 25 ุฏูููุฉ ููู ูุณู

// ======= ุฅุฏุฎุงู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช ููุง =======
const sections = [
  {
    title: "ุงููุณู ุงูุฃูู: ุงููุฏุฑุงุช ุงูููุธู ",
    questions: [
      { q: "ุญุจุฑ : ููู", options:["ูุงุก : ุทุงูุฉ","ููุงุก : ุชููุณ","ุจูุฒูู : ุณูุงุฑุฉ","ุบุฐุงุก : ุฅูุณุงู"], answer:"ุจูุฒูู : ุณูุงุฑุฉ" },
 
    ]
  },
  {
    title: "ุงููุณู ุงูุซุงูู: ุงููุฏุฑุงุช ุงูููู",
    questions: [
         { q: "ุงุฐุง ูุงู ุงูููู ูู ุงูุฎููุณ ููู ูุชูุฑุฑ ููู ุงูุณุจุช ุฎูุงู ูงูฃููู", options:[" 11 "," 12 "," 15 ","10 "], answer:"11" },

    ]
  }
];

let currentSection=0, currentQ=0, userAnswers=[], totalTime=sectionTimers?sectionTime:sectionTime*sections.length, timerInterval;

const quizTitle=document.getElementById("quizTitle"),
      questionText=document.getElementById("questionText"),
      optionsDiv=document.getElementById("options"),
      prevBtn=document.getElementById("prevBtn"),
      nextBtn=document.getElementById("nextBtn"),
      submitSectionBtn=document.getElementById("submitSectionBtn"),
      timerDisplay=document.getElementById("timer"),
      timerBar=document.getElementById("timerBar"),
      quizContainer=document.getElementById("qodrat-quiz"),
      finalSubmit=document.getElementById("finalSubmit"),
      submitFinalBtn=document.getElementById("submitFinalBtn");

function loadQuestion(){
  const q=sections[currentSection].questions[currentQ];
  questionText.innerText=`ุงูุณุคุงู ${currentQ+1}: ${q.q}`;
  optionsDiv.innerHTML="";
  const labels=["ุฃ","ุจ","ุฌ","ุฏ"];
  q.options.forEach((opt,i)=>{
    let btn=document.createElement("button");
    btn.innerText=`${labels[i]} - ${opt}`;
    btn.style.padding="16px"; btn.style.fontSize="20px"; btn.style.borderRadius="8px"; btn.style.border="1px solid #ccc"; btn.style.cursor="pointer";
    btn.style.background=userAnswers[currentSection][currentQ]===opt?"#ffd54f":"#e0f7fa";
    btn.onmouseover=()=>{btn.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)";};
    btn.onmouseout=()=>{btn.style.boxShadow="none";};
    btn.onclick=()=>{ selectAnswer(opt); loadQuestion(); };
    optionsDiv.appendChild(btn);
  });
  prevBtn.style.display=currentQ===0?"none":"inline-block";
  nextBtn.style.display=currentQ===sections[currentSection].questions.length-1?"none":"inline-block";
  submitSectionBtn.style.display=currentQ===sections[currentSection].questions.length-1?"inline-block":"none";
}

function selectAnswer(ans){ userAnswers[currentSection][currentQ]=ans; }

prevBtn.onclick=()=>{if(currentQ>0){currentQ--; loadQuestion();}};
nextBtn.onclick=()=>{if(currentQ<sections[currentSection].questions.length-1){currentQ++; loadQuestion();}};
submitSectionBtn.onclick=submitSection;

function submitSection(){
  if(!sectionTimers && currentSection<sections.length-1){ currentSection++; loadQuestion(); return; }
  clearInterval(timerInterval);
  if(currentSection<sections.length-1){
    currentSection++;
    startSection();
  } else {
    quizContainer.style.display="none";
    finalSubmit.style.display="block";
  }
}

function startSection(){
  quizTitle.innerText=sections[currentSection].title;
  currentQ=0;
  userAnswers[currentSection]=[];
  if(sectionTimers) totalTime=sectionTime;
  loadQuestion();
  prevBtn.style.display="none";
  nextBtn.style.display="inline-block";
  submitSectionBtn.style.display="none";

  clearInterval(timerInterval);
  timerInterval=setInterval(()=>{
    let minutes=Math.floor(totalTime/60), seconds=totalTime%60;
    timerDisplay.innerText=`${minutes}:${seconds<10?"0"+seconds:seconds}`;
    timerBar.style.width=(totalTime/(sectionTimers?sectionTime:sectionTime*sections.length)*100)+"%";
    totalTime--;
    if(totalTime<0){ clearInterval(timerInterval); submitSection(); }
  },1000);
}

submitFinalBtn.onclick=()=>{
  const name=document.getElementById("studentName").value,
        id=document.getElementById("studentID").value,
        cls=document.getElementById("studentClass").value;
  if(!name||!id||!cls){ alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฌููุน ุงูุจูุงูุงุช."); return; }

  let totalScore=0;
  sections.forEach((sec,i)=>{ sec.questions.forEach((q,j)=>{ if(userAnswers[i][j]===q.answer) totalScore++; }); });

  finalSubmit.innerHTML=`<h2>โ ุชู ุชุณููู ุงูุงุฎุชุจุงุฑ</h2>
    <p>ุงูุงุณู: ${name}</p>
    <p>ุงููููุฉ: ${id}</p>
    <p>ุงูุตู: ${cls}</p>
    <p>ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ: ${totalScore} ูู ${sections.reduce((a,b)=>a+b.questions.length,0)}</p>`;
}

window.onbeforeunload=()=>"ูู ุฃูุช ูุชุฃูุฏ ูู ูุบุงุฏุฑุฉ ุงูุตูุญุฉุ ุณูุชู ููุฏ ุงูุฅุฌุงุจุงุช ุฅุฐุง ุบุงุฏุฑุช.";

startSection();
</script>
</body>
</html>
